document.addEventListener("DOMContentLoaded", function () {
  const noticiasList = document.getElementById("noticias-list");

  const noticias = [
    {
      titulo: "Fim de uma Era no Flamengo",
      descricao:
        "Após conquistar a Copa do Brasil de 2024, seu 13º título com a camisa rubro-negra, Gabriel Barbosa, o Gabigol, anunciou, em entrevista à Globo, que sua jornada no Flamengo chegou ao fim. O atacante, que se tornou um ícone do clube nos últimos sete anos, revelou que, apesar do desejo de continuar, não conseguiu chegar a um acordo para renovar seu contrato com a diretoria. Durante sua trajetória no Flamengo, Gabigol conquistou uma impressionante coleção de títulos, incluindo 2 Libertadores (2019 e 2022), 2 Copas do Brasil (2022 e 2024), 2 Campeonatos Brasileiros (2019 e 2020), 2 Supercopas do Brasil (2020 e 2021), 1 Recopa Sul-Americana (2020) e 4 Campeonatos Cariocas (2019, 2020, 2021 e 2024). Com esses feitos, ele igualou-se a Zico e Maestro Júnior, os dois maiores ídolos da história do clube. Com apenas 28 anos, Gabigol deixa o Flamengo como um dos maiores jogadores a vestir o manto sagrado, consolidando seu nome na história do clube. Seu estilo de jogo, sempre decisivo nos momentos mais importantes, fez com que o atacante conquistasse não apenas títulos, mas também o coração da imensa torcida rubro-negra. Segundo informações do jornalista Mauro Cezar, o atacante já teria um acerto com o Cruzeiro até 2028, com um salário superior ao dobro do que recebe atualmente no Flamengo – cerca de R$ 3 milhões por mês, totalizando R$ 36 milhões por ano. Sua saída marca o fim de uma era vitoriosa no Flamengo e, sem dúvida, deixará saudades na maior torcida do mundo. Gabigol foi fundamental nas grandes conquistas recentes do clube, sendo o protagonista de momentos históricos como os gols na final da Libertadores de 2019 e no título do Campeonato Brasileiro de 2020. Com seus gols, carisma e conquistas, o - Príncipe rubro-negro - se eternizou como um dos maiores ícones da história do clube. Ele deixa uma legião de fãs e o legado de um vencedor, sempre lembrado como um dos maiores atacantes da história do Flamengo. ",
      imagem: "GABIGOL-TCHAU.webp",
    },
    {
      titulo: "É PENTA!!!",
      descricao:
        "O Flamengo conquistou sua 5ª Copa do Brasil ao vencer o Atlético-MG por 4x1 no placar agregado, consolidando uma campanha sólida e eficiente. O título foi praticamente decidido no jogo de ida, quando o time rubro-negro aplicou um 3x1 em pleno Maracanã. Dois dos gols cariocas foram de Gabigol, que, mesmo não vivendo sua melhor fase, se destacou mais uma vez em finais, mostrando sua capacidade de decisão. Após o terceiro gol do Flamengo, o Atlético-MG conseguiu descontar em uma falha do zagueiro Léo Ortiz, que tentou dominar a bola na grande área, mas acabou deixando escapar. A sobra ficou com Alan Kardec, que fez o giro e chutou no canto de Rossi, dando uma breve esperança ao Galo de tentar reverter a situação na volta, em Belo Horizonte. No jogo de volta, o Atlético iniciou a partida com muita pressão, buscando diminuir a desvantagem de dois gols. Porém, a defesa rubro-negra, sob a direção de Filipe Luís, conseguiu segurar o placar até o final do primeiro tempo, resistindo ao ímpeto do time da casa. Durante o intervalo, Filipe optou pela entrada de Bruno Henrique no lugar de Gabigol, uma substituição que deu novo fôlego ao Flamengo. Com Bruno Henrique em campo, o time ganhou mais velocidade e encontrou espaços para os contra-ataques. Aos 36 minutos do segundo tempo, o Atlético teve uma grande chance de reduzir a diferença no agregado. Após uma cobrança de escanteio, Alan Kardec, que havia dado esperança ao Galo no primeiro jogo, acabou desperdiçando uma oportunidade clara, furando debaixo da trave, sem goleiro. A falha de Kardec foi crucial, pois logo em seguida, o Flamengo partiu para o contra-ataque. Bruno Henrique lançou Gonzalo Plata pela esquerda, que, com um drible desconcertante no zagueiro atleticano, concluiu com uma cavada magistral sobre o goleiro Everson, definindo a vitória e o título para o Mengão. O gol de Plata descontrolou ainda mais os ânimos em campo, gerando um princípio de briga entre os jogadores. A confusão inflamou a torcida atleticana, que tentou invadir o campo e lançou objetos em direção aos jogadores dos dois times. Apesar da tensão, o jogo seguiu até o apito final, e a festa foi rubro-negra. Com a vitória por 4x1 no agregado, o Flamengo conquistou sua 5ª Copa do Brasil e garantiu sua vaga na Libertadores de 2025, ampliando seu domínio no cenário nacional e reforçando sua posição como um dos gigantes do futebol sul-americano. ",
      imagem: "TITULO-CDB.webp",
    },
    {
      titulo: "De interino a titular",
      descricao:
        "Filipe Luís vive um momento de consagração no Flamengo. Após apenas nove jogos como técnico interino, o ex-lateral conquistou seu primeiro título à frente do time, tornando-se o quinto profissional a ganhar troféus como jogador e treinador pelo clube. Sua jornada no Flamengo, marcada por passagens vitoriosas como lateral-esquerdo, agora se estende à beira do campo. Comandando o time interinamente após a saída de Tite, Filipe Luís rapidamente conquistou a confiança dos jogadores e da torcida com seu estilo calmo e estratégico. A conquista do título da Copa do Brasil, que marcou sua estreia como treinador de alto nível, foi o ponto decisivo para a diretoria rubro-negra, que resolveu promovê-lo à função de técnico titular para a temporada 2025. Com uma sólida trajetória como jogador, Filipe chega ao novo desafio com a responsabilidade de manter o Flamengo no topo do futebol brasileiro e internacional. Sua experiência e liderança, tanto dentro quanto fora de campo, são vistas como fundamentais para o sucesso contínuo do clube. Filipe Luís, com sua visão tática apurada e liderança tranquila, tem sido elogiado por sua capacidade de motivar, integrar e entender o elenco, uma vez que foram seus companheiros de equipe por alguns anos, fatores que foram fundamentais para o sucesso nas primeiras semanas à frente do time. A torcida, que sempre teve grande carinho por Filipe como jogador, agora deposita suas esperanças no comandante para seguir conquistando grandes troféus. Sua experiência internacional, adquirida em grandes clubes como Atlético de Madrid e na Seleção Brasileira, traz um diferencial valioso para o Flamengo, que busca não só títulos nacionais, mas também consolidar sua presença no cenário internacional. Agora, o ex-lateral-esquerdo tem o desafio de traduzir sua experiência como jogador para a função de comandante e seguir a trajetória de grandes nomes que passaram pela Gávea. Com a temporada de 2025 à vista, Filipe Luís sabe que o caminho será desafiador, mas está determinado a escrever novos capítulos de sucesso e história no clube da Gávea.",
      imagem: "FILIPE-TECNICO.avif",
    },
  ];

  // função para renderizar as notícias
  function renderizarNoticias() {
    noticiasList.innerHTML = ""; // limpa a lista antes de adicionar as novas notícias
    noticias.forEach((noticia) => {
      const noticiaElemento = document.createElement("div");
      noticiaElemento.classList.add("noticia");

      // adiciona a imagem
      const imagem = document.createElement("img");
      imagem.src = noticia.imagem;
      imagem.alt = noticia.titulo;
      imagem.classList.add("imagem-noticia");

      // adiciona o título
      const titulo = document.createElement("h3");
      titulo.textContent = noticia.titulo;

      // adiciona a descrição
      const descricao = document.createElement("p");
      descricao.textContent = noticia.descricao;

      // adiciona todos os elementos dentro do bloco de notícia
      noticiaElemento.appendChild(imagem);
      noticiaElemento.appendChild(titulo);
      noticiaElemento.appendChild(descricao);

      // adiciona o bloco de notícia à lista
      noticiasList.appendChild(noticiaElemento);
    });
  }

  // renderiza as notícias quando o DOM estiver pronto
  renderizarNoticias();

  // captura os elementos da logo e do título
  const logo = document.querySelector(".logo");
  const titulo = document.querySelector("header h1");

  // função para redirecionar para a página principal
  function voltarParaPaginaPrincipal() {
    window.location.href = "index.html"; // Altere "index.html" se a sua página principal tiver outro nome
  }

  // Adiciona o evento de clique na logo e no título
  logo.addEventListener("click", voltarParaPaginaPrincipal);
  titulo.addEventListener("click", voltarParaPaginaPrincipal);

  // código de rolagem suave para os links de navegação
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", function (e) {
      e.preventDefault(); // impede o comportamento padrão de rolagem do link

      const targetId = this.getAttribute("href").substring(1); // Obtém o ID do destino
      const targetElement = document.getElementById(targetId); // Elemento de destino

      // calcula o offset do topo e ajusta a rolagem
      const headerHeight = document.querySelector("header").offsetHeight;
      const targetOffsetTop = targetElement.offsetTop;

      // ajusta a rolagem levando em consideração a altura do cabeçalho
      window.scrollTo({
        top: targetOffsetTop - headerHeight, // ajusta para a altura do cabeçalho
        behavior: "smooth", // rolagem suave
      });
    });
  });

  // adiciona o evento de captura de digitação na barra de pesquisa
  const searchBar = document.querySelector(".search-bar");
  searchBar.addEventListener("input", function () {
    const query = searchBar.value.toLowerCase().trim();

    // verifica o valor digitado e redireciona para a página correspondente
    if (query === "menu") {
      window.location.href = "index.html"; // redireciona para a página principal
    } else if (query === "proximo") {
      window.location.href = "jogos.html"; // redireciona para a página de Próximos Jogos
    } else if (query === "jogo") {
      window.location.href = "jogos.html"; // redireciona para a página de Próximos Jogos
    } else if (query === "tabela") {
      window.location.href = "classificação.html"; // redireciona para a página da Tabela Brasileirão
    } else if (query === "classificacao") {
      window.location.href = "classificação.html"; // redireciona para a página da Tabela Brasileirão
    } else if (query === "brasileirao") {
      window.location.href = "classificação.html"; // redireciona para a página da Tabela Brasileirão
    }
  });
});
